<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>News Summarizer</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/script.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>📰 News Summarizer</h1>

        <!-- 검색 폼 -->
        <form action="/search" method="get" class="search-form">
            <input type="text" name="keyword" placeholder="뉴스 키워드를 입력하세요" required>
            <button type="submit">검색</button>
        </form>

        <!-- 뉴스 리스트 -->
        <div class="news-list">
            {% if articles %}
                <h2>검색 결과 ({{ page }}/{{ total_pages }} 페이지)</h2>
                <ul>
                    {% for article in articles %}
                        <li>
                            <a href="/summary?title={{ article.title | urlencode }}&description={{ article.description | urlencode }}&url={{ article.url | urlencode }}"
                               class="news-link">
                                {{ article.title or "제목 없음" }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>

                <!-- 페이지네이션 -->
                <div class="pagination">
                    {% if page > 1 %}
                        <a href="/search?keyword={{ keyword }}&page={{ page-1 }}">⬅ 이전</a>
                    {% endif %}
                    {% for p in range(1, total_pages+1) %}
                        {% if p == page %}
                            <strong>[{{ p }}]</strong>
                        {% else %}
                            <a href="/search?keyword={{ keyword }}&page={{ p }}">{{ p }}</a>
                        {% endif %}
                    {% endfor %}
                    {% if page < total_pages %}
                        <a href="/search?keyword={{ keyword }}&page={{ page+1 }}">다음 ➡</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
